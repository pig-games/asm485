opForge 8085 Assembler v1.0
ADDR    BYTES                    LINE  SOURCE
------  -----------------------  ----  ------
----                                1  ; 65816 runtime state assumptions (.assume)
----                                2  ; Demonstrates explicit E/M/X/DBR/DP assumptions and inferred PBR.
----                                3  
----                                4          .cpu 65816
----    EQU 123400                  5          .org $123400
----                                6  
----                                7  start:
----                                8          .assume e=native, m=16, x=16, dbr=$12, dp=$2000
----                                9          .assume pbr=$00        ; override
----                               10          .assume pbr=auto       ; restore inferred PBR from current .org bank
----                               11  
123400  A9 34 12                   12          lda #$1234          ; A9 34 12 (A is 16-bit)
123403  A2 78 56                   13          ldx #$5678          ; A2 78 56 (X is 16-bit)
123406  AD 56 34                   14          lda $123456         ; AD 56 34 (DBR bank match uses absolute form)
123409  A5 F0                      15          lda $20F0           ; A5 F0 (DP assumption maps absolute address to direct-page offset)
12340B  4C 10 32                   16          jmp $123210         ; 4C 10 32 (PBR defaults to current .org bank $12)
----                               17  
12340E  E2 20                      18          sep #$20            ; A back to 8-bit
123410  A9 9A                      19          lda #$9A            ; A9 9A
----                               20  
----                               21          .assume e=emulation ; forces A/X to 8-bit
123412  A2 BC                      22          ldx #$BC            ; A2 BC
----                               23  
123414  60                         24          rts
----                               25  
----                               26          .end

Lines: 26  Errors: 0  Warnings: 0

SYMBOL TABLE

start           : 123400 (1192960)

Total memory is 21 bytes

GENERATED OUTPUT

ADDR    BYTES
------  -----------------------
123400    A9 34 12 A2 78 56 AD 56 34 A5 F0 4C 10 32 E2 20
123410    A9 9A A2 BC 60
