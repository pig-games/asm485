opForge 8085 Assembler v1.0
ADDR    BYTES                    LINE  SOURCE
------  -----------------------  ----  ------
----                                1  ; 65816 MVP Addressing/Instruction Coverage
----                                2  ; Covers currently implemented 65816-specific forms in this branch.
----                                3  
----                                4          .cpu 65816
----    EQU 0800                    5          .org $0800
----                                6  
----                                7  ; ========================================
----                                8  ; CONTROL FLOW / LONG CONTROL
----                                9  ; ========================================
0800    82 01 00                   10          brl long_target     ; 82 xx xx
0803    EA                         11          nop                 ; EA
----                               12  long_target:
0804    5C EE FF C0                13          jml $C0FFEE         ; 5C EE FF C0
0808    22 CD AB 00                14          jsl $00ABCD         ; 22 CD AB 00
080C    DC 56 34                   15          jml [$3456]         ; DC 56 34
080F    6B                         16          rtl                 ; 6B
----                               17  
----                               18  ; ========================================
----                               19  ; MODE/CONTROL
----                               20  ; ========================================
0810    C2 30                      21          rep #$30            ; C2 30
0812    E2 10                      22          sep #$10            ; E2 10
0814    FB                         23          xce                 ; FB
0815    EB                         24          xba                 ; EB
----                               25  
----                               26  ; ========================================
----                               27  ; WIDTH-SENSITIVE IMMEDIATES
----                               28  ; ========================================
0816    C2 30                      29          rep #$30            ; C2 30 (A/X -> 16-bit immediates)
0818    A9 34 12                   30          lda #$1234          ; A9 34 12
081B    A2 78 56                   31          ldx #$5678          ; A2 78 56
081E    E2 20                      32          sep #$20            ; E2 20 (A -> 8-bit immediate)
0820    A9 12                      33          lda #$12            ; A9 12
0822    E2 10                      34          sep #$10            ; E2 10 (X/Y -> 8-bit immediate)
0824    A2 34                      35          ldx #$34            ; A2 34
----                               36  
----                               37  ; ========================================
----                               38  ; STACK/REGISTER CONTROL
----                               39  ; ========================================
0826    8B                         40          phb                 ; 8B
0827    AB                         41          plb                 ; AB
0828    0B                         42          phd                 ; 0B
0829    2B                         43          pld                 ; 2B
082A    4B                         44          phk                 ; 4B
082B    5B                         45          tcd                 ; 5B
082C    7B                         46          tdc                 ; 7B
082D    1B                         47          tcs                 ; 1B
082E    3B                         48          tsc                 ; 3B
----                               49  
----                               50  ; ========================================
----                               51  ; MEMORY / IMMEDIATE CONTROL
----                               52  ; ========================================
082F    F4 67 45                   53          pea $4567           ; F4 67 45
0832    D4 44                      54          pei ($44)           ; D4 44
0834    62 39 00                   55          per rel_target      ; 62 xx xx
0837    02 99                      56          cop #$99            ; 02 99
0839    42 55                      57          wdm #$55            ; 42 55
----                               58  
----                               59  ; ========================================
----                               60  ; BLOCK MOVE
----                               61  ; ========================================
083B    54 01 02                   62          mvn $01,$02         ; 54 01 02
083E    44 03 04                   63          mvp $03,$04         ; 44 03 04
----                               64  
----                               65  ; ========================================
----                               66  ; 65816 STACK-RELATIVE ADDRESSING
----                               67  ; ========================================
0841    03 20                      68          ora $20,s           ; 03 20
0843    13 21                      69          ora ($21,s),y       ; 13 21
0845    A3 22                      70          lda $22,s           ; A3 22
0847    B3 23                      71          lda ($23,s),y       ; B3 23
0849    83 24                      72          sta $24,s           ; 83 24
084B    93 25                      73          sta ($25,s),y       ; 93 25
084D    33 26                      74          and ($26,s),y       ; 33 26
084F    43 27                      75          eor $27,s           ; 43 27
0851    D3 28                      76          cmp ($28,s),y       ; D3 28
----                               77  
----                               78  ; ========================================
----                               79  ; 65816 LONG MEMORY FORMS
----                               80  ; ========================================
0853    AF 56 34 12                81          lda $123456         ; AF 56 34 12
0857    BF 56 34 12                82          lda $123456,x       ; BF 56 34 12
085B    8F 5A 34 12                83          sta $12345A         ; 8F 5A 34 12
085F    9F 5A 34 12                84          sta $12345A,x       ; 9F 5A 34 12
----                               85  
----                               86  ; ========================================
----                               87  ; 65816 BRACKETED LONG-INDIRECT FORMS
----                               88  ; ========================================
0863    A7 30                      89          lda [$30]           ; A7 30
0865    B7 30                      90          lda [$30],y         ; B7 30
0867    87 31                      91          sta [$31]           ; 87 31
0869    97 31                      92          sta [$31],y         ; 97 31
----                               93  
----                               94  ; Shared family instructions still valid on 65816
086B    A9 12                      95          lda #$12
086D    8D 00 20                   96          sta $2000
----                               97  
----                               98  rel_target:
0870    60                         99          rts
----                              100  
----                              101          .end

Lines: 101  Errors: 0  Warnings: 0

SYMBOL TABLE

long_target     : 0804 (2052)
rel_target      : 0870 (2160)

Total memory is 113 bytes

GENERATED OUTPUT

ADDR    BYTES
------  -----------------------
0800    82 01 00 EA 5C EE FF C0 22 CD AB 00 DC 56 34 6B
0810    C2 30 E2 10 FB EB C2 30 A9 34 12 A2 78 56 E2 20
0820    A9 12 E2 10 A2 34 8B AB 0B 2B 4B 5B 7B 1B 3B F4
0830    67 45 D4 44 62 39 00 02 99 42 55 54 01 02 44 03
0840    04 03 20 13 21 A3 22 B3 23 83 24 93 25 33 26 43
0850    27 D3 28 AF 56 34 12 BF 56 34 12 8F 5A 34 12 9F
0860    5A 34 12 A7 30 B7 30 87 31 97 31 A9 12 8D 00 20
0870    60
