opForge Assembler v0.9.3
ADDR    BYTES                    LINE  SOURCE
------  -----------------------  ----  ------
----                                1  ; 65816 MVP Addressing/Instruction Coverage
----                                2  ; Covers currently implemented 65816-specific forms in this branch.
----                                3  
----                                4          .cpu 65816
----    EQU 0800                    5          .org $0800
----                                6  
----                                7  ; ========================================
----                                8  ; CONTROL FLOW / LONG CONTROL
----                                9  ; ========================================
0800    82 01 00                   10          brl long_target     ; 82 xx xx
0803    EA                         11          nop                 ; EA
----                               12  long_target
0804    5C EE FF C0                13          jml $C0FFEE         ; 5C EE FF C0
0808    22 CD AB 00                14          jsl $00ABCD         ; 22 CD AB 00
080C    DC 56 34                   15          jmp [$3456]         ; DC 56 34
080F    DC 56 34                   16          jml [$3456]         ; DC 56 34 (alias)
0812    6B                         17          rtl                 ; 6B
----                               18  
----                               19  ; ========================================
----                               20  ; MODE/CONTROL
----                               21  ; ========================================
0813    C2 30                      22          rep #$30            ; C2 30
0815    E2 10                      23          sep #$10            ; E2 10
0817    FB                         24          xce                 ; FB
0818    EB                         25          xba                 ; EB
----                               26  
----                               27  ; ========================================
----                               28  ; WIDTH-SENSITIVE IMMEDIATES
----                               29  ; ========================================
0819    C2 30                      30          rep #$30            ; C2 30 (A/X -> 16-bit immediates)
081B    A9 34 12                   31          lda #$1234          ; A9 34 12
081E    A2 78 56                   32          ldx #$5678          ; A2 78 56
0821    E2 20                      33          sep #$20            ; E2 20 (A -> 8-bit immediate)
0823    A9 12                      34          lda #$12            ; A9 12
0825    E2 10                      35          sep #$10            ; E2 10 (X/Y -> 8-bit immediate)
0827    A2 34                      36          ldx #$34            ; A2 34
----                               37  
----                               38  ; ========================================
----                               39  ; STACK/REGISTER CONTROL
----                               40  ; ========================================
0829    8B                         41          phb                 ; 8B
082A    AB                         42          plb                 ; AB
082B    0B                         43          phd                 ; 0B
082C    2B                         44          pld                 ; 2B
082D    4B                         45          phk                 ; 4B
082E    5B                         46          tcd                 ; 5B
082F    7B                         47          tdc                 ; 7B
0830    1B                         48          tcs                 ; 1B
0831    3B                         49          tsc                 ; 3B
----                               50  
----                               51  ; ========================================
----                               52  ; MEMORY / IMMEDIATE CONTROL
----                               53  ; ========================================
0832    F4 67 45                   54          pea $4567           ; F4 67 45
0835    D4 44                      55          pei ($44)           ; D4 44
0837    62 39 00                   56          per rel_target      ; 62 xx xx
083A    02 99                      57          cop #$99            ; 02 99
083C    42 55                      58          wdm #$55            ; 42 55
----                               59  
----                               60  ; ========================================
----                               61  ; BLOCK MOVE
----                               62  ; ========================================
083E    54 01 02                   63          mvn $01,$02         ; 54 01 02
0841    44 03 04                   64          mvp $03,$04         ; 44 03 04
----                               65  
----                               66  ; ========================================
----                               67  ; 65816 STACK-RELATIVE ADDRESSING
----                               68  ; ========================================
0844    03 20                      69          ora $20,s           ; 03 20
0846    13 21                      70          ora ($21,s),y       ; 13 21
0848    A3 22                      71          lda $22,s           ; A3 22
084A    B3 23                      72          lda ($23,s),y       ; B3 23
084C    83 24                      73          sta $24,s           ; 83 24
084E    93 25                      74          sta ($25,s),y       ; 93 25
0850    33 26                      75          and ($26,s),y       ; 33 26
0852    43 27                      76          eor $27,s           ; 43 27
0854    D3 28                      77          cmp ($28,s),y       ; D3 28
----                               78  
----                               79  ; ========================================
----                               80  ; 65816 LONG MEMORY FORMS
----                               81  ; ========================================
0856    AF 56 34 12                82          lda $123456         ; AF 56 34 12
085A    BF 56 34 12                83          lda $123456,x       ; BF 56 34 12
085E    8F 5A 34 12                84          sta $12345A         ; 8F 5A 34 12
0862    9F 5A 34 12                85          sta $12345A,x       ; 9F 5A 34 12
----                               86  
----                               87  ; ========================================
----                               88  ; 65816 BRACKETED LONG-INDIRECT FORMS
----                               89  ; ========================================
0866    A7 30                      90          lda [$30]           ; A7 30
0868    B7 30                      91          lda [$30],y         ; B7 30
086A    87 31                      92          sta [$31]           ; 87 31
086C    97 31                      93          sta [$31],y         ; 97 31
----                               94  
----                               95  ; Shared family instructions still valid on 65816
086E    A9 12                      96          lda #$12
0870    8D 00 20                   97          sta $2000
----                               98  
----                               99  rel_target
0873    60                        100          rts
----                              101  
----                              102          .end

Lines: 102  Errors: 0  Warnings: 0

SYMBOL TABLE

long_target     : 0804 (2052)
rel_target      : 0873 (2163)

Total memory is 116 bytes

GENERATED OUTPUT

ADDR    BYTES
------  -----------------------
0800    82 01 00 EA 5C EE FF C0 22 CD AB 00 DC 56 34 DC
0810    56 34 6B C2 30 E2 10 FB EB C2 30 A9 34 12 A2 78
0820    56 E2 20 A9 12 E2 10 A2 34 8B AB 0B 2B 4B 5B 7B
0830    1B 3B F4 67 45 D4 44 62 39 00 02 99 42 55 54 01
0840    02 44 03 04 03 20 13 21 A3 22 B3 23 83 24 93 25
0850    33 26 43 27 D3 28 AF 56 34 12 BF 56 34 12 8F 5A
0860    34 12 9F 5A 34 12 A7 30 B7 30 87 31 97 31 A9 12
0870    8D 00 20 60
